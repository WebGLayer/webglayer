<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport"
		  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<title>Chicago Crime Data</title>
	<link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"/>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="../libs/tooltipster.bundle.min.css"/>
	<link rel="stylesheet" href="../libs/tooltipster-sideTip-light.min.css"/>

	<link rel="stylesheet" href="css/style.css"/>

	<link rel="stylesheet" href="../../src/styles/wgl-selection.css"/>

	<script>L_DISABLE_3D = true;</script>
	<script src='../libs/mapbox-gl-dev.js'></script>
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.css' rel='stylesheet' />
	<link href="css/mapbox.css" rel="stylesheet">

	<script src="../libs/OpenLayers.js"></script>
	<script src="../libs/jquery-1.9.1.min.js"></script>
	<script src="../libs/jquery-ui.min.js"></script>
	<script src="../libs/poly2tri.js"></script>

	<script src="../libs/d3.v3.min.js"></script>
	<script src="../libs/tooltipster.bundle.min.js"></script>
	<script src="../libs/jquery.csv.js"></script>

	<script src="../libs/sphericalmercator.js"></script>

	<script src='../libs/mapbox-gl-dev.js'></script>
	<script src='../libs/mapbox-gl-draw.js'></script>
	<link href="../libs/mapbox-gl-draw.css" rel="stylesheet">
	<link href='../libs/mapbox-gl.css' rel='stylesheet' />

	<!-- Local configuration -->
	<script src="js/utils.js"></script>
	<script src="js/map.js"></script>
	<script src="js/DataLoader.js"></script>
	<script src="js/init.js"></script>

	<!-- WebGLayer -->


	<!--<script src="../../build/WebGLayer.min.js"></script>-->

	<script src="../../src/WGL.js"></script>
	<script src="../../src/internal/utils.js"></script>
	<script src="../../src/internal/filtrutils.js"></script>
	<script src="../../src/internal/GLUtils.js"></script>
	<script src="../../src/internal/Manager.js"></script>
	<script src="../../src/internal/MapController.js"></script>
	<script src="../../src/internal/FloatRasterReader.js"></script>
	<script src="../../src/internal/Filter.js"></script>
	<script src="../../src/internal/MaxCalculator.js"></script>
	<script src="../../src/internal/FloatReaderHistogram.js"></script>

	<script src="../../src/dimension/ColorSchemes.js"></script>
	<script src="../../src/dimension/MapDimension.js"></script>
	<script src="../../src/dimension/HeatMapDimension.js"></script>
	<script src="../../src/dimension/HeatMapRenderer.js"></script>
	<script src="../../src/dimension/IluminationRenderer.js"></script>
	<script src="../../src/dimension/HistDimension.js"></script>
	<script src="../../src/dimension/ParallelCoordinates.js"></script>
	<script src="../../src/dimension/ParallelCoordinatesRenderer.js"></script>
	<script src="../../src/dimension/IdentifyDimension.js"></script>

	<script src="../../src/filter/LinearFilter.js"></script>
	<script src="../../src/filter/MapPolyFilter.js"></script>
	<script src="../../src/filter/ExtentFilter.js"></script>
	<script src="../../src/filter/MapColorFilter.js"></script>

	<script src="../../src/ui/StackedBarChart.js"></script>
	<script src="../../src/ui/HeatMapLegend.js"></script>
	<script src="../../src/ui/d3.svg.multibrush.js"></script>
	<script src="../../src/ui/ChartDiv.js"></script>
	<script src="../../src/ui/FilterListChartDiv.js"></script>
	<script src="../../src/ui/PopupWin.js"></script>

</head>
<body onload="init()">
<!-- <div id="legend"></div> -->

<div class="navbar" id="navbar" role="navbar">

	<div class="active-filters">
		<div class="active-filters-item navbar-item">
		<span class="bar-item"></span>
		<span>Active Filters</span>
		</div>
		<div class="active-filters-container" style="display: none;">
			<div id="filters-container" >
				<div id="active-filters-placeholder" class="active-filters-placeholder hide">No active filters at the moment.</br></br>Please apply data filters by selecting in the charts on the right.</div>
				<div class='border-top-white width-inherit hide' id="chd-container-footer-area">
        <div class='btn-minimize chart-header-footer'>
        <span class='chart-title-footer'><text class='cursor-pointer'>Area filter</text></span>
        <div class='chart-filters chart-filters-area display-table'><i title='Clear current selection' class='material-icons chart-filters-clean display-table-cell-center cursor-pointer'>close</i></div>
        </div>
         </div>
			</div>
			<div class="close-item-filters close-item-btn hide"><div class="close-item-icon fa fa-chevron-up"></div></div>
		</div>
	</div>

	<div class="heatmap-controls">
	<div class="heatmap-item navbar-item">
		<span class="bar-item"></span>
		<span>Heatmap</span>
	</div>
		<div class="heatmap-controls-container" style="display: none">
		<div id="colorSchemeSelector">
			<div style="display: table; width: 97%; margin-top: 0.3em">
				<span style="display: table-cell; vertical-align: middle;">Colour </span>
				<span style="vertical-align: middle; float: right;" id="colorSchemeButtons" class="display-inline-block">
					<span class="color-scheme-btn color-scheme-selected" data-scheme="fire"><img src="img/fire.png"/></span>
					<span class="color-scheme-btn" data-scheme="icy"><img src="img/icy.png"/></span>
					<span class="color-scheme-btn" data-scheme="gamma"><img src="img/gamma.png"/></span>
					<span class="color-scheme-btn" data-scheme="red"><img src="img/red.png"/></span>
					<span class="color-scheme-btn" data-scheme="blue"><img src="img/blue.png"/></span>
				</span>
			</div>
		</div>
		<div class="heatmap-radius" id="chm"></div>
			<div class="close-item-filters close-item-btn hide"><div class="close-item-icon fa fa-chevron-up"></div></div>
		</div>
	</div>

	<div class="layers">
		<div class="layers-item navbar-item">
				<span class="bar-item"></span>
				<span>Layers</span>
		</div>
		<div class="layers-container" style="display: none">
			<div class="layers-list">
				<button class="layers-btn layer-selected" id="heatmap_visible" name="heatmap">Heatmap</button>
				<button class="layers-btn" id="points_visible" name="themap">Crimes</button>
			</div>
			<div class="close-item-filters close-item-btn hide"><div class="close-item-icon fa fa-chevron-up"></div></div>
		</div>
	</div>

	<div class="area-selection">
		<div class="area-item navbar-item">
			<span class="bar-item"></span>
			<span >Select Area</span>
		</div>
		<div class="controls-container" style="display: none">
				<div id="controls">

					<div id="controlsToggle" class="btn-group">
						<button class="control-btn" value="draw" title="Sketch new polygon"><i><img style="width: 18px" src="img/radar.png"></i></button>
						<button class="control-btn" value="delete" title="Delete polygon"><i class="material-icons" style="font-size: 18px">delete</i></button>
					</div>

				</div>
			<div class="close-item-filters close-item-btn hide"><div class="close-item-icon fa fa-chevron-up"></div></div>
			</div>

	</div>

	<div class="charts-item navbar-item">
			<span class="bar-item bar-item-active"></span>
			<span>Charts</span>
		</div>

</div>

<div id="map">


	<div id="wgl">
		<a href="http://innoconnect.net/" target="_blank">© InnoConnect 2018 | </a><a href="http://webglayer.org/" target="_blank">WebGLayer | </a><a href="https://www.mapbox.com/" target="_blank">© MapBox | </a><a href="https://www.openstreetmap.org/" target="_blank">© OpenStreetMap</a>
	</div>
	<div id="loading" class="loading-wgl">

		<div><span id="records_loaded" class="text_map"><b>-</b> data records loaded</span></div>
		<div class="progress-outer">
			<div class="progress-inner"></div>
		</div>
	</div>

	<div id="OpenLayers_Control_Attribution_7" class="olControlAttribution olControlNoSelect text_map_dark" unselectable="on" style="position: absolute; z-index: 1004;">© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors</div>

</div>

<div id="right">

	<div id="charts">

		<div class='border-top-white chart-container' id="chd-container-about" >

			<div class='btn-minimize chart-header' id="min-about">
				<div class='chart-chevron'><i id="about-chevron" class='material-icons'>keyboard_arrow_up</i></div>
				<div class='chart-drag-handle cursor-grab'><i title='Click and drag to change order' class='material-icons'>drag_handle</i></div>
				<span class='chart-title' style='position: absolute; left: 50%'><text style='position: relative; left: -50%; top: -1px;' title='Open/close this chart' class='cursor-pointer'>CRIMES IN CHICAGO</text></span>
			</div>


			<div id = "about" class = 'vis-div chart-content' style='position: relative; background: white; padding: 10px'>

				Visualization of reported incidents of crime that occurred in the City of Chicago from <span id="start_date"><b>-</b></span> to <span id="end_date"><b>-</b></span>
				</br>
				</br>
				No. of Data Records: <span id="no_crimes"><b>-</b></span> crimes
				</br>
				</br>
				Data source: <a target="_blank" href="https://data.cityofchicago.org/Public-Safety/Crimes-2001-to-present/ijzp-q8t2">Chicago data portal</a>
				</br>
				</br>
				Data analysis: play with the data by selecting data segments in barcharts or ‘Select Area’ directly in the map.
			</div>

		</div>

	</div>
	<div id="chart-footers" class="width-inherit" style="position: sticky; bottom: 0;"></div>
</div>



</div>




</div>
<!-- 	<div id='legend' style="padding:1em"> -->
<!-- 		<object data="legend2.svg" /> -->
<!-- 	</div> -->
</body>
</html>
